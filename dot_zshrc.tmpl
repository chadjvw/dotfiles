#!/usr/bin/env zsh

# import this so we can overwrite thigns in it
[[ -s "{{ .chezmoi.homeDir }}/.zshrc-internal" ]] && source {{ .chezmoi.homeDir }}/.zshrc-internal

export path=('{{ .chezmoi.homeDir }}/.cargo/bin' '{{ .chezmoi.homeDir }}/.local/bin' $path)

HISTFILE={{ .chezmoi.homeDir }}/.histfile

HISTSIZE=100000
SAVEHIST=100000

setopt hist_ignore_all_dups
setopt appendhistory autocd

bindkey -v                 # vim > emacs
bindkey ' ' magic-space    # also do history expansion on space
bindkey '^I' complete-word # complete on tab, leave expansion to _expand

zstyle :compinstall filename '{{ .chezmoi.homeDir }}/.zshrc'

autoload -Uz compinit
compinit

export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
export LANG=en_US.UTF-8

export EDITOR='nvim'

[[ -s "{{ .chezmoi.homeDir }}/.alias" ]] && source {{ .chezmoi.homeDir }}/.alias

# Add GRC: https://github.com/garabik/grc
[[ -s "/etc/grc.zsh" ]] && source /etc/grc.zsh
[[ -s "/usr/local/etc/grc.zsh" ]] && source /usr/local/etc/grc.zsh

export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"

[[ -s "$NVM_DIR/nvm.sh" ]] && source "$NVM_DIR/nvm.sh" # This loads nvm

eval "$(zoxide init zsh)"
eval "$(mcfly init zsh)"
